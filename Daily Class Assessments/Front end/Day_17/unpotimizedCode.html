<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <h2>Unoptimized Dashboard</h2>
    <p>we can see the difference on console via logs</p>
    <ul id="userList"></ul>

    <script>
        async function loadDashboard(){

            const timeStart = performance.now();
            const[users,posts] = await Promise.all([
                fetch("https://jsonplaceholder.typicode.com/users").then(r => r.json()),
                fetch("https://jsonplaceholder.typicode.com/posts").then(r => r.json())
            ])

            // No Cache

            users.slice(0,20).forEach(u => {
                // Here we are doing repeated DOM lookup for each time
                const list = document.getElementById("userList");
                const li = document.createElement("li");
                li.textContent = `${u.name} - ${u.email}`;
                list.appendChild(li); // causing many DOM mutations
            })

            const timeStop = performance.now();
            console.log("Total Time Taken : ",Math.round(timeStop - timeStart));
            console.log("Users : ",users.length , "Posts : ",posts.length);

        }
        loadDashboard();
    </script>

</body>
</html>